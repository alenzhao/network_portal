<h3> Regulation information for {{ gene }} </h3>
<p>
<div class="tab-contents">
<div id="main">
{% if influence_biclusters|length > 0 %}
<b> {{ gene }}</b> is possibly regulated by <b>{{ influence_biclusters|length }}</b> influences.
  <table class="gene-regulation">
   <caption> Regulators for {{ gene }}
    <tr>
      <th class="help">Regulator</th>
      <th>Regulon</th>
      <th>Mode</th>
      <th>Family</th>
      <th>Process</th>
      <th>Inferelator Weight</th>
    </tr>
    {% for bicluster_id, influence in influence_biclusters %}
    <tr>
      <td>{% if influence.type == 'tf' %}<a href="/gene/{{ influence.gene.name }}">{{ influence.name }}</a>{% else %}{{ influence.name }}{% endif %}</td>
      <td><a href="/bicluster/{{ bicluster_id }}">{{ bicluster_id }}</a></td>
      <td><a href="regulon_modes"><font color="green">Repression</font></a></td>
      <td><a href="regulon_family">Fis</a></td>
      <td><a href="regulon_process">Pyruvate Oxidation</a></td>
      <td><a href="regulon_weight">-0.23</a></td>
    </tr>
    {% endfor %}
  </table>
{% else %}
<div class="error_message">No regulators were found for {{ gene }}.</div>
{% endif %}
{% if regulated_biclusters|length > 0 %}
<a name="regulates"></a>
<b> {{ gene }}</b> possibly regulates <b>{{ regulated_biclusters|length }}</b> regulons.
  <table class="gene-regulation">
   <caption> Regulated by {{ gene }}
    <tr>
      <th>Regulon</th>
      <th>genes</th>
      <th>residual</th>
    </tr>
    {% for bicluster in regulated_biclusters %}
    <tr>
      <td><a href="/bicluster/{{bicluster.id}}">{{bicluster.id}}</a></td>
      <td>{{bicluster.genes.count}}</td>
      <td>{{bicluster.residual}}</td>
    </tr>
    {% endfor %}
   </table>
{% else %}
<div class="error_message">{{ gene }} does not regulate anything.</div>
{% endif %}

</div>
</div>
